{"id":"qaFM","dependencies":[{"name":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\package.json","includedInParent":true,"mtime":1631157722000},{"name":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\.babelrc","includedInParent":true,"mtime":1631157722000},{"name":"./build_part_with_score_queue","loc":{"line":20,"column":44},"parent":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\node_modules\\@tensorflow-models\\body-pix\\multi_person\\decode_multiple_poses.js","resolved":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\node_modules\\@tensorflow-models\\body-pix\\multi_person\\build_part_with_score_queue.js"},{"name":"./decode_pose","loc":{"line":21,"column":28},"parent":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\node_modules\\@tensorflow-models\\body-pix\\multi_person\\decode_multiple_poses.js","resolved":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\node_modules\\@tensorflow-models\\body-pix\\multi_person\\decode_pose.js"},{"name":"./util","loc":{"line":22,"column":21},"parent":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\node_modules\\@tensorflow-models\\body-pix\\multi_person\\decode_multiple_poses.js","resolved":"C:\\Users\\21aw0128\\Desktop\\body-pix\\demo\\node_modules\\@tensorflow-models\\body-pix\\multi_person\\util.js"}],"generated":{"js":"\"use strict\";exports.__esModule=!0,exports.decodeMultiplePoses=void 0;var e=require(\"./build_part_with_score_queue\"),r=require(\"./decode_pose\"),o=require(\"./util\");function t(e,r,t,u){var i=t.x,s=t.y;return e.some(function(e){var t=e.keypoints[u].position;return o.squaredDistance(s,i,t.y,t.x)<=r})}function u(e,r,o){return o.reduce(function(o,u,i){var s=u.position,n=u.score;return t(e,r,s,i)||(o+=n),o},0)/o.length}var i=1;function s(s,n,d,c,a,p,v,l){void 0===v&&(v=.5),void 0===l&&(l=20);for(var f=[],_=e.buildPartWithScoreQueue(v,i,s),q=l*l;f.length<p&&!_.empty();){var h=_.dequeue();if(!t(f,q,o.getImageCoords(h.part,a,n),h.part.id)){var x=r.decodePose(h,s,n,a,d,c),y=u(f,q,x);f.push({keypoints:x,score:y})}}return f}exports.decodeMultiplePoses=s;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":18,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":18,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":18,"column":0},"generated":{"line":1,"column":33}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":19,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":19,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":19,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":20,"column":0},"generated":{"line":1,"column":70}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":20,"column":0},"generated":{"line":1,"column":74}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":20,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":20,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":21,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":21,"column":0},"generated":{"line":1,"column":119}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":21,"column":0},"generated":{"line":1,"column":127}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":22,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":22,"column":0},"generated":{"line":1,"column":146}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":22,"column":0},"generated":{"line":1,"column":154}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":23,"column":0},"generated":{"line":1,"column":164}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":23,"column":0},"generated":{"line":1,"column":173}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":23,"column":0},"generated":{"line":1,"column":175}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":23,"column":0},"generated":{"line":1,"column":177}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":23,"column":0},"generated":{"line":1,"column":179}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":23,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":24,"column":0},"generated":{"line":1,"column":184}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":24,"column":0},"generated":{"line":1,"column":188}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":24,"column":0},"generated":{"line":1,"column":190}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":24,"column":0},"generated":{"line":1,"column":192}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":24,"column":0},"generated":{"line":1,"column":194}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":24,"column":0},"generated":{"line":1,"column":196}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":24,"column":0},"generated":{"line":1,"column":198}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":25,"column":0},"generated":{"line":1,"column":200}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":25,"column":0},"generated":{"line":1,"column":207}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":25,"column":0},"generated":{"line":1,"column":209}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":25,"column":0},"generated":{"line":1,"column":214}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":25,"column":0},"generated":{"line":1,"column":223}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":26,"column":0},"generated":{"line":1,"column":226}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":27,"column":0},"generated":{"line":1,"column":230}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":26,"column":0},"generated":{"line":1,"column":232}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":26,"column":0},"generated":{"line":1,"column":234}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":27,"column":0},"generated":{"line":1,"column":244}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":27,"column":0},"generated":{"line":1,"column":247}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":256}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":263}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":265}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":283}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":285}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":287}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":289}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":28,"column":0},"generated":{"line":1,"column":291}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":29,"column":0},"generated":{"line":1,"column":295}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":36,"column":0},"generated":{"line":1,"column":299}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":36,"column":0},"generated":{"line":1,"column":308}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":36,"column":0},"generated":{"line":1,"column":310}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":36,"column":0},"generated":{"line":1,"column":312}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":36,"column":0},"generated":{"line":1,"column":314}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":44,"column":0},"generated":{"line":1,"column":317}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":37,"column":0},"generated":{"line":1,"column":324}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":37,"column":0},"generated":{"line":1,"column":326}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":37,"column":0},"generated":{"line":1,"column":333}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":37,"column":0},"generated":{"line":1,"column":342}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":37,"column":0},"generated":{"line":1,"column":344}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":37,"column":0},"generated":{"line":1,"column":346}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":38,"column":0},"generated":{"line":1,"column":349}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":38,"column":0},"generated":{"line":1,"column":353}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":38,"column":0},"generated":{"line":1,"column":355}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":38,"column":0},"generated":{"line":1,"column":357}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":38,"column":0},"generated":{"line":1,"column":366}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":38,"column":0},"generated":{"line":1,"column":368}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":38,"column":0},"generated":{"line":1,"column":370}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":42,"column":0},"generated":{"line":1,"column":376}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":39,"column":0},"generated":{"line":1,"column":383}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":39,"column":0},"generated":{"line":1,"column":385}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":39,"column":0},"generated":{"line":1,"column":387}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":39,"column":0},"generated":{"line":1,"column":389}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":39,"column":0},"generated":{"line":1,"column":391}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":40,"column":0},"generated":{"line":1,"column":396}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":40,"column":0},"generated":{"line":1,"column":399}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":42,"column":0},"generated":{"line":1,"column":402}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":43,"column":0},"generated":{"line":1,"column":405}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":44,"column":0},"generated":{"line":1,"column":408}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":44,"column":0},"generated":{"line":1,"column":410}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":49,"column":0},"generated":{"line":1,"column":417}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":49,"column":0},"generated":{"line":1,"column":421}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":49,"column":0},"generated":{"line":1,"column":423}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":425}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":434}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":436}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":438}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":440}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":442}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":444}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":446}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":448}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":105,"column":0},"generated":{"line":1,"column":450}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":106,"column":0},"generated":{"line":1,"column":458}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":106,"column":0},"generated":{"line":1,"column":462}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":106,"column":0},"generated":{"line":1,"column":466}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":106,"column":0},"generated":{"line":1,"column":468}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":107,"column":0},"generated":{"line":1,"column":477}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":107,"column":0},"generated":{"line":1,"column":481}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":107,"column":0},"generated":{"line":1,"column":485}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":107,"column":0},"generated":{"line":1,"column":487}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":113,"column":0},"generated":{"line":1,"column":491}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":108,"column":0},"generated":{"line":1,"column":495}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":108,"column":0},"generated":{"line":1,"column":499}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":108,"column":0},"generated":{"line":1,"column":501}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":109,"column":0},"generated":{"line":1,"column":504}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":109,"column":0},"generated":{"line":1,"column":506}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":109,"column":0},"generated":{"line":1,"column":508}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":109,"column":0},"generated":{"line":1,"column":532}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":109,"column":0},"generated":{"line":1,"column":534}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":109,"column":0},"generated":{"line":1,"column":536}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":110,"column":0},"generated":{"line":1,"column":539}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":110,"column":0},"generated":{"line":1,"column":541}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":110,"column":0},"generated":{"line":1,"column":543}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":113,"column":0},"generated":{"line":1,"column":545}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":113,"column":0},"generated":{"line":1,"column":547}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":113,"column":0},"generated":{"line":1,"column":554}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":113,"column":0},"generated":{"line":1,"column":558}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":113,"column":0},"generated":{"line":1,"column":560}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":113,"column":0},"generated":{"line":1,"column":569}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":115,"column":0},"generated":{"line":1,"column":570}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":115,"column":0},"generated":{"line":1,"column":574}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":115,"column":0},"generated":{"line":1,"column":576}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":115,"column":0},"generated":{"line":1,"column":578}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":588}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":592}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":594}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":596}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":119,"column":0},"generated":{"line":1,"column":598}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":119,"column":0},"generated":{"line":1,"column":600}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":119,"column":0},"generated":{"line":1,"column":615}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":119,"column":0},"generated":{"line":1,"column":617}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":119,"column":0},"generated":{"line":1,"column":622}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":119,"column":0},"generated":{"line":1,"column":624}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":627}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":629}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":634}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":120,"column":0},"generated":{"line":1,"column":638}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":639}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":643}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":645}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":647}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":658}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":660}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":662}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":664}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":666}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":124,"column":0},"generated":{"line":1,"column":668}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":125,"column":0},"generated":{"line":1,"column":671}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":125,"column":0},"generated":{"line":1,"column":673}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":125,"column":0},"generated":{"line":1,"column":675}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":125,"column":0},"generated":{"line":1,"column":677}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":125,"column":0},"generated":{"line":1,"column":679}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":126,"column":0},"generated":{"line":1,"column":682}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":126,"column":0},"generated":{"line":1,"column":684}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":126,"column":0},"generated":{"line":1,"column":689}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":126,"column":0},"generated":{"line":1,"column":690}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":126,"column":0},"generated":{"line":1,"column":700}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":126,"column":0},"generated":{"line":1,"column":702}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":126,"column":0},"generated":{"line":1,"column":708}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":128,"column":0},"generated":{"line":1,"column":713}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":128,"column":0},"generated":{"line":1,"column":720}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":130,"column":0},"generated":{"line":1,"column":722}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":130,"column":0},"generated":{"line":1,"column":730}},{"source":"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js","original":{"line":130,"column":0},"generated":{"line":1,"column":750}}],"sources":{"node_modules/@tensorflow-models/body-pix/multi_person/decode_multiple_poses.js":"\"use strict\";\r\n/**\r\n * @license\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nexports.__esModule = true;\r\nexports.decodeMultiplePoses = void 0;\r\nvar build_part_with_score_queue_1 = require(\"./build_part_with_score_queue\");\r\nvar decode_pose_1 = require(\"./decode_pose\");\r\nvar util_1 = require(\"./util\");\r\nfunction withinNmsRadiusOfCorrespondingPoint(poses, squaredNmsRadius, _a, keypointId) {\r\n    var x = _a.x, y = _a.y;\r\n    return poses.some(function (_a) {\r\n        var keypoints = _a.keypoints;\r\n        var correspondingKeypoint = keypoints[keypointId].position;\r\n        return util_1.squaredDistance(y, x, correspondingKeypoint.y, correspondingKeypoint.x) <=\r\n            squaredNmsRadius;\r\n    });\r\n}\r\n/* Score the newly proposed object instance without taking into account\r\n * the scores of the parts that overlap with any previously detected\r\n * instance.\r\n */\r\nfunction getInstanceScore(existingPoses, squaredNmsRadius, instanceKeypoints) {\r\n    var notOverlappedKeypointScores = instanceKeypoints.reduce(function (result, _a, keypointId) {\r\n        var position = _a.position, score = _a.score;\r\n        if (!withinNmsRadiusOfCorrespondingPoint(existingPoses, squaredNmsRadius, position, keypointId)) {\r\n            result += score;\r\n        }\r\n        return result;\r\n    }, 0.0);\r\n    return notOverlappedKeypointScores /= instanceKeypoints.length;\r\n}\r\n// A point (y, x) is considered as root part candidate if its score is a\r\n// maximum in a window |y - y'| <= kLocalMaximumRadius, |x - x'| <=\r\n// kLocalMaximumRadius.\r\nvar kLocalMaximumRadius = 1;\r\n/**\r\n * Detects multiple poses and finds their parts from part scores and\r\n * displacement vectors. It returns up to `maxDetections` object instance\r\n * detections in decreasing root score order. It works as follows: We first\r\n * create a priority queue with local part score maxima above\r\n * `scoreThreshold`, considering all parts at the same time. Then we\r\n * iteratively pull the top  element of the queue (in decreasing score order)\r\n * and treat it as a root candidate for a new object instance. To avoid\r\n * duplicate detections, we reject the root candidate if it is within a disk\r\n * of `nmsRadius` pixels from the corresponding part of a previously detected\r\n * instance, which is a form of part-based non-maximum suppression (NMS). If\r\n * the root candidate passes the NMS check, we start a new object instance\r\n * detection, treating the corresponding part as root and finding the\r\n * positions of the remaining parts by following the displacement vectors\r\n * along the tree-structured part graph. We assign to the newly detected\r\n * instance a score equal to the sum of scores of its parts which have not\r\n * been claimed by a previous instance (i.e., those at least `nmsRadius`\r\n * pixels away from the corresponding part of all previously detected\r\n * instances), divided by the total number of parts `numParts`.\r\n *\r\n * @param heatmapScores 3-D tensor with shape `[height, width, numParts]`.\r\n * The value of heatmapScores[y, x, k]` is the score of placing the `k`-th\r\n * object part at position `(y, x)`.\r\n *\r\n * @param offsets 3-D tensor with shape `[height, width, numParts * 2]`.\r\n * The value of [offsets[y, x, k], offsets[y, x, k + numParts]]` is the\r\n * short range offset vector of the `k`-th  object part at heatmap\r\n * position `(y, x)`.\r\n *\r\n * @param displacementsFwd 3-D tensor of shape\r\n * `[height, width, 2 * num_edges]`, where `num_edges = num_parts - 1` is the\r\n * number of edges (parent-child pairs) in the tree. It contains the forward\r\n * displacements between consecutive part from the root towards the leaves.\r\n *\r\n * @param displacementsBwd 3-D tensor of shape\r\n * `[height, width, 2 * num_edges]`, where `num_edges = num_parts - 1` is the\r\n * number of edges (parent-child pairs) in the tree. It contains the backward\r\n * displacements between consecutive part from the root towards the leaves.\r\n *\r\n * @param outputStride The output stride that was used when feed-forwarding\r\n * through the PoseNet model.  Must be 32, 16, or 8.\r\n *\r\n * @param maxPoseDetections Maximum number of returned instance detections per\r\n * image.\r\n *\r\n * @param scoreThreshold Only return instance detections that have root part\r\n * score greater or equal to this value. Defaults to 0.5.\r\n *\r\n * @param nmsRadius Non-maximum suppression part distance. It needs to be\r\n * strictly positive. Two parts suppress each other if they are less than\r\n * `nmsRadius` pixels away. Defaults to 20.\r\n *\r\n * @return An array of poses and their scores, each containing keypoints and\r\n * the corresponding keypoint scores.\r\n */\r\nfunction decodeMultiplePoses(scoresBuffer, offsetsBuffer, displacementsFwdBuffer, displacementsBwdBuffer, outputStride, maxPoseDetections, scoreThreshold, nmsRadius) {\r\n    if (scoreThreshold === void 0) { scoreThreshold = 0.5; }\r\n    if (nmsRadius === void 0) { nmsRadius = 20; }\r\n    var poses = [];\r\n    var queue = build_part_with_score_queue_1.buildPartWithScoreQueue(scoreThreshold, kLocalMaximumRadius, scoresBuffer);\r\n    var squaredNmsRadius = nmsRadius * nmsRadius;\r\n    // Generate at most maxDetections object instances per image in\r\n    // decreasing root part score order.\r\n    while (poses.length < maxPoseDetections && !queue.empty()) {\r\n        // The top element in the queue is the next root candidate.\r\n        var root = queue.dequeue();\r\n        // Part-based non-maximum suppression: We reject a root candidate if it\r\n        // is within a disk of `nmsRadius` pixels from the corresponding part of\r\n        // a previously detected instance.\r\n        var rootImageCoords = util_1.getImageCoords(root.part, outputStride, offsetsBuffer);\r\n        if (withinNmsRadiusOfCorrespondingPoint(poses, squaredNmsRadius, rootImageCoords, root.part.id)) {\r\n            continue;\r\n        }\r\n        // Start a new detection instance at the position of the root.\r\n        var keypoints = decode_pose_1.decodePose(root, scoresBuffer, offsetsBuffer, outputStride, displacementsFwdBuffer, displacementsBwdBuffer);\r\n        var score = getInstanceScore(poses, squaredNmsRadius, keypoints);\r\n        poses.push({ keypoints: keypoints, score: score });\r\n    }\r\n    return poses;\r\n}\r\nexports.decodeMultiplePoses = decodeMultiplePoses;\r\n"},"lineCount":null}},"error":null,"hash":"9db37ded3f080667b9567b63592c49e0","cacheData":{"env":{}}}